(()=>{var e={};e.id=636,e.ids=[636],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},79646:e=>{"use strict";e.exports=require("child_process")},55511:e=>{"use strict";e.exports=require("crypto")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},11723:e=>{"use strict";e.exports=require("querystring")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},46845:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>c,pages:()=>m,routeModule:()=>u,tree:()=>d});var r=s(70260),a=s(28203),i=s(25155),l=s.n(i),o=s(67292),n={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,21762)),"C:\\Users\\rachb\\Downloads\\Telegram Desktop\\kvfnew\\app\\profile\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],types:["__DEFAULT__",{},{defaultPage:[()=>Promise.resolve().then(s.t.bind(s,97507,23)),"next/dist/client/components/parallel-route-default.js"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,19611)),"C:\\Users\\rachb\\Downloads\\Telegram Desktop\\kvfnew\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,61129)),"C:\\Users\\rachb\\Downloads\\Telegram Desktop\\kvfnew\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],m=["C:\\Users\\rachb\\Downloads\\Telegram Desktop\\kvfnew\\app\\profile\\page.tsx"],c={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1839:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"00da94c5e624ddc6ef000e2b169d099c73b17ffb28":()=>r.q});var r=s(40530)},56538:(e,t,s)=>{Promise.resolve().then(s.bind(s,21762))},24994:(e,t,s)=>{Promise.resolve().then(s.bind(s,45302))},45302:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(45512);s(26695);var a=s(58009),i=s.n(a),l=s(57285),o=s(98438),n=s(79334);function d(){(0,n.useRouter)();let[e,t]=(0,a.useState)(),[s,d]=(0,a.useState)(),[m,c]=i().useState(!0);return s?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("section",{className:"relative -top-10 pt-40 pb-24",children:[(0,r.jsx)("img",{src:".././gradient.svg",alt:"cover-image",className:"w-full absolute top-0 left-0 z-0 h-60 object-cover"}),(0,r.jsxs)("div",{className:"w-full max-w-7xl mx-auto px-6 md:px-8",children:[(0,r.jsx)("div",{className:"flex items-center justify-center sm:justify-start relative z-10 mb-5",children:(0,r.jsx)("img",{src:"../acc-icon.png",alt:"user-avatar-image",className:"border-4 border-solid size-32 border-white rounded-full object-cover"})}),(0,r.jsxs)("div",{className:"flex items-start justify-center flex-col sm:flex-row max-sm:gap-5 sm:justify-between mb-5",children:[(0,r.jsxs)("div",{className:"block",children:[(0,r.jsxs)("h3",{className:"font-manrope font-bold text-4xl text-gray-900 mb-1 max-sm:text-center",children:[s?.firstName," ",s?.lastName]}),(0,r.jsxs)("p",{className:"font-normal text-base leading-7 text-gray-500  max-sm:text-center",children:["Организация ",s?.organisation]})]}),(0,r.jsxs)("div",{className:" max-sm:flex-wrap max-sm:justify-center items-center gap-4",children:[(0,r.jsxs)("p",{className:"font-manrope font-bold text-lg text-gray-900 mb-1 max-sm:text-center",children:["Тест пройден: ",s?.testPassed?"Пройден":"Не пройден"]}),(0,r.jsxs)("p",{className:"font-manrope font-bold text-lg text-gray-900 mb-1 max-sm:text-center",children:["Электронная почта: ",s?.email]}),(0,r.jsxs)("p",{className:"font-manrope font-bold text-lg text-gray-900 mb-1 max-sm:text-center",children:["Специализация:"," ",s?.role=="STUDENT"?"Студент":"SCHOOLBOY"==s.role?"Школьник":"SPECIALIST"==s.role?"Специалист":"Администратор"]})]})]})]}),(0,r.jsx)("div",{children:null!=e?e?.map(e=>r.jsx("div",{className:"relative bg-white container px-4 mx-auto flex h-full ring-black/5 max-lg:rounded-t-[2rem] my-6 py-10  shadow ring-1 flex-col overflow-hidden rounded-[calc(theme(borderRadius.lg)+1px)] max-lg:rounded-t-[calc(2rem+1px)]",children:r.jsxs("p",{className:"text-lg",children:["Тест ",r.jsx("strong",{children:e.testName})," пройден на:"," ",e.score," баллов. Тест пройден в"," ",new Date(Number(e.passedDate)).toLocaleString()]})},e.testName)):(0,r.jsx)("div",{className:"relative container mx-auto flex h-full ring-black/5 max-lg:rounded-t-[2rem] my-6 py-10  shadow ring-1 flex-col overflow-hidden rounded-[calc(theme(borderRadius.lg)+1px)] max-lg:rounded-t-[calc(2rem+1px)]"})})]})}):m?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("section",{className:"relative -top-10 pt-40 pb-24",children:[(0,r.jsx)("img",{src:".././gradient.svg",alt:"cover-image",className:"w-full absolute top-0 left-0 z-0 h-60 object-cover"}),(0,r.jsxs)("div",{className:"w-full max-w-7xl mb-48 mx-auto px-6 md:px-8",children:[(0,r.jsx)("div",{className:"flex items-center justify-center sm:justify-start relative z-10 mb-5",children:(0,r.jsx)(l.A,{animation:"wave",variant:"circular",width:120,height:120})}),(0,r.jsxs)("div",{className:"flex items-start justify-center flex-col sm:flex-row max-sm:gap-5 sm:justify-between mb-5",children:[(0,r.jsxs)("div",{className:"block",children:[(0,r.jsx)(l.A,{width:260,height:65,style:{marginBottom:-10},animation:"wave"}),(0,r.jsx)(l.A,{width:260,height:40,style:{marginBottom:-40},animation:"wave"})]}),(0,r.jsxs)("div",{className:" max-sm:flex-wrap max-sm:justify-center items-center gap-4",children:[(0,r.jsx)(l.A,{width:290,height:40,style:{marginBottom:-6},animation:"wave"}),(0,r.jsx)(l.A,{width:290,height:40,style:{marginBottom:-6},animation:"wave"}),(0,r.jsx)(l.A,{width:290,height:40,style:{marginBottom:-6},animation:"wave"})]})]})]}),(0,r.jsxs)("div",{className:"container px-40 mx-auto",children:[(0,r.jsx)(l.A,{height:140,style:{marginBottom:-40},animation:"wave"}),(0,r.jsx)(l.A,{height:140,style:{marginBottom:-40},animation:"wave"}),(0,r.jsx)(l.A,{height:140,style:{marginBottom:-40},animation:"wave"}),(0,r.jsx)(l.A,{height:140,style:{marginBottom:-40},animation:"wave"})]})]})}):(0,r.jsx)(o.A,{variant:"profile"})}},98438:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(45512),a=s(26008);s(58009);let i=({variant:e="default"})=>(0,r.jsxs)("div",{className:"relative bg-white container mx-auto flex h-full ring-black/5 max-lg:rounded-t-[2rem] my-6 py-10  shadow ring-1 flex-col overflow-hidden rounded-[calc(theme(borderRadius.lg)+1px)] max-lg:rounded-t-[calc(2rem+1px)]",children:[(0,r.jsx)("div",{className:"px-8 pt-8 sm:px-10 sm:pt-10",children:(0,r.jsx)("h4",{className:"mt-2 text-4xl text-center font-medium tracking-tight text-gray-950 max-lg:text-center",children:"default"==e?"Войдите или зарегистрируйтесь и войдите через почту чтобы пройти тестирование":"profile"==e?"Войдите или зарегистрируйтесь  и войдите через почту чтобы увидеть профиль":"Войдите или зарегистрируйтесь и войдите через почту чтобы увидеть страницу"})}),(0,r.jsxs)("div",{className:"flex flex-1 justify-center mt-10 px-10 max-lg:pb-12 max-lg:pt-10 sm:px-10 lg:pb-12",children:[(0,r.jsx)(a.default,{href:"/login",className:"duration-300 mr-4 rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Войти"}),(0,r.jsx)(a.default,{href:"/register",className:"duration-300 mr-4 rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Зарегистрироваться"})]})]})},21762:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\rachb\\\\Downloads\\\\Telegram Desktop\\\\kvfnew\\\\app\\\\profile\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\rachb\\Downloads\\Telegram Desktop\\kvfnew\\app\\profile\\page.tsx","default")},40530:(e,t,s)=>{"use strict";s.d(t,{q:()=>p});var r=s(21590);s(70376);var a=s(24118),i=s.n(a),l=s(24871),o=s(70709),n=s(37067),d=s(8805),m=s(20441);let c=new(s(96330)).PrismaClient,u={adapter:(0,n.y)(c),pages:{verifyRequest:"/verification-request"},providers:[(0,m.A)({server:{host:process.env.EMAIL_SERVER_HOST,port:process.env.EMAIL_SERVER_PORT,auth:{user:process.env.EMAIL_SERVER_USER,pass:process.env.EMAIL_SERVER_PASSWORD}},from:process.env.EMAIL_FROM}),(0,l.A)({name:"Credentials",credentials:{email:{label:"Email",type:"text"},password:{label:"Password",type:"password"}},async authorize(e){if(!e)return null;let t={email:e.email},s=await o.z.user.findFirst({where:t});return s&&await (0,d.compare)(e.password,s.password)?{id:s.id,name:s.firstName,lastName:s.lastName,surName:s.surName,password:s.password,email:s.email,emailVerified:s.emailVerified,organisation:s.organisation,testPassed:s.testPassed,passedDate:s.passedDate,startTest:s.startTest,role:s.role,testsResult:s.testsResult,okAnswers:s.okAnswers}:null}})],secret:process.env.NEXTAUTH_SECRET,session:{strategy:"jwt"},callbacks:{async signIn({user:e,account:t}){try{if(t?.provider==="credentials")return console.log("всё кайф"),!0;if(!e?.email)return!1;if(t?.provider==="email"){if(await o.z.user.findFirst({where:{email:e.email}}))return!0;return!1}let s=await o.z.user.findFirst({where:{email:e.email}});return console.log(s),!!s}catch(e){console.log("Error [SIGN IN]",e)}return!1},async jwt({token:e}){if(!e.email)return e;let t=await o.z.user.findFirst({where:{email:e.email}});return t&&(e.id=t.id,e.email=t.email,e.name=t.firstName,e.role=t.role),e},session:({session:e,token:t})=>(e?.user&&(e.user.id=t.id,e.user.role=t.role),e)}};async function p(){let e=await (0,a.getServerSession)(u);if(e?.user)return await o.z.user.findFirst({where:{id:e.user.id}})}i()(u),(0,s(99344).D)([p]),(0,r.A)(p,"00da94c5e624ddc6ef000e2b169d099c73b17ffb28",null)},70709:(e,t,s)=>{"use strict";s.d(t,{z:()=>a});var r=s(96330);let a=globalThis.prismaGlobal??new r.PrismaClient}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[989,934,377,93,285,390],()=>s(46845));module.exports=r})();